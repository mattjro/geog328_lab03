<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <title>Web Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.js"></script>
    <style>
        /* ... (unchanged styles) ... */
    </style>
</head>
<body>
    <div id="container">
        <div id="map"></div>
        <div id="side-panel">
            <h2>Map Title</h2>
            <button onclick="sortTable()">Sort Table</button>
            <table id="data-table">
                <!-- Table content will be populated dynamically using JavaScript -->
            </table>
        </div>
    </div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoicm9tYXR0aGV3MSIsImEiOiJjbG9vdWFncXYwMzlzMmtudXJkeGV2Z2QzIn0.xArMFm7sixXohWt-PKuMsA';
        let map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [0, 0],
            zoom: 2
        });

        // Function to fetch and load GeoJSON data to the map and table
        async function loadGeoJSON() {
            // Fetch GeoJSON data for the first data set
            const response1 = await fetch('URL_TO_FIRST_GEOJSON_FILE');
            const data1 = await response1.json();

            // Fetch GeoJSON data for the second data set
            const response2 = await fetch('URL_TO_SECOND_GEOJSON_FILE');
            const data2 = await response2.json();

            // Add GeoJSON data sources and layers to the map
            map.addSource('dataset1', {
                type: 'geojson',
                data: data1
            });

            map.addLayer({
                'id': 'dataset1-layer',
                'type': 'circle',
                'source': 'dataset1',
                'paint': {
                    'circle-radius': 8,
                    'circle-stroke-width': 2,
                    'circle-color': 'blue',
                    'circle-stroke-color': 'white'
                }
            });

            map.addSource('dataset2', {
                type: 'geojson',
                data: data2
            });

            map.addLayer({
                'id': 'dataset2-layer',
                'type': 'fill',
                'source': 'dataset2',
                'paint': {
                    'fill-color': 'green',
                    'fill-opacity': 0.5
                }
            });

            // Add data to the table dynamically
            const table = document.getElementById("data-table");
            for (let i = 0; i < data1.features.length; i++) {
                const row = table.insertRow(-1);
                const cell1 = row.insertCell(0);
                const cell2 = row.insertCell(1);
                const cell3 = row.insertCell(2);
                cell1.innerHTML = data1.features[i].properties.id;
                cell2.innerHTML = data1.features[i].properties.value;
                cell3.innerHTML = new Date(data1.features[i].properties.time).toLocaleDateString("en-US");
            }

            for (let i = 0; i < data2.features.length; i++) {
                const row = table.insertRow(-1);
                const cell1 = row.insertCell(0);
                const cell2 = row.insertCell(1);
                const cell3 = row.insertCell(2);
                cell1.innerHTML = data2.features[i].properties.id;
                cell2.innerHTML = data2.features[i].properties.value;
                cell3.innerHTML = new Date(data2.features[i].properties.time).toLocaleDateString("en-US");
            }
        }

        // Call the function to load data when the map is loaded
        map.on('load', loadGeoJSON);

        // Sort table function
        function sortTable() {
            // Implement
